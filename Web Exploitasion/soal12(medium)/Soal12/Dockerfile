FROM php:8.1-apache

# Install ekstensi mysqli dan mysql-client
RUN apt-get update && \
    apt-get install -y default-mysql-client && \
    docker-php-ext-install mysqli

# Copy skrip wait-for-mysql
COPY wait-for-mysql.sh /wait-for-mysql.sh
RUN chmod +x /wait-for-mysql.sh

# Salin semua file website ke direktori Apache
COPY . /var/www/html/
RUN chown -R www-data:www-data /var/www/html
